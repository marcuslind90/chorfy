sudo: required
language: python
python:
  - "3.6"
env:
  - RDS_DB_NAME=postgres
  - RDS_USERNAME=postgres
  - RDS_HOSTNAME=db
  - RDS_PORT=5432
services:
  - docker

before_script:
  - docker-compose up -d

script:
  - docker-compose exec app /bin/sh -c "python -m flake8 ."
  - docker-compose exec app /bin/sh -c "python manage.py test --no-input"
